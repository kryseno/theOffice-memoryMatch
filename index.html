<!DOCTYPE html>
<html>
    <head>
        <title>Memory Match Game</title>
        <link rel="stylesheet" href="style.css">
        <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            var first_card_clicked = null;
            var second_card_clicked = null;
            var total_possible_matches = 2;
            var match_counter = 0;
            $(document).ready(initializeApplication);


            function initializeApplication(){
                $(".card").click(card_clicked);
            }
            function card_clicked(){
//                console.log('handle click called');
                if($(this).hasClass('reveal')){
                    console.log('this card has already been clicked');
                    return;
                }
                $(this).addClass('reveal');
//                console.log('card clicked');

                if(first_card_clicked === null){
                    console.log('first card was clicked');
                    first_card_clicked = this;
                    return;
                } else {
                    console.log('second card was clicked');
                    second_card_clicked = this;

                    if($(first_card_clicked).find('.front img').attr('src') === $(second_card_clicked).find('.front img').attr('src')){
                        console.log('the cards matched!');
                        match_counter++;
                        console.log('match_counter: ' + match_counter);
                        first_card_clicked = null;
                        second_card_clicked = null;

                        if(match_counter === total_possible_matches){
                            console.log('You won!');
                        } else {
                            return;
                        }

                    } else {
                        console.log('not a match');
                        var timeOut = setTimeout(function () {
                            $(first_card_clicked).removeClass('reveal');
                            console.log('back of 1st card now shown');
                            first_card_clicked = null;
                            console.log('first_card_clicked is null');
                            $(second_card_clicked).removeClass('reveal');
                            console.log('back of 2nd card now shown');
                            second_card_clicked = null;
                            console.log('second_card_clicked is null');
                        }, 2000);
                        console.log('2 seconds passed');
//
//                        $('.card').off("click");
//                        console.log('clicking cards disabled');
//
                        return timeOut;

                    }
                }

            }

//            PREVIOUS
//            $(document).ready(function(){
////                var pictures = ['images/michael.jpg',
////                'images/dwight.jpg'];
//                makeCardDivs();
//                function makeCardDivs() {
//                    var game_area = $(".game-area");
//                    for (var i = 0; i < 18; i++) {
//                        var new_card = $("<div>").addClass("card back").click(function(){
//                            $(this).toggleClass("front-michael");
//                        });
//                        $(game_area).append(new_card);
//                    };
//                };
//            });
        </script>
    </head>
    <body>

            <header>
                <img id="logo" src="images/dunderMifflin.png" alt="Dunder Mifflin Logo">
                <div class="center">
                    <img id="office_sign" src="images/the_office_sign.jpg" alt="">
                    <!--<div id="title"><h1>Memory<br>Match<br>Game</h1></div>-->
                    <nav>
                        <ul>
                            <li><a href="">settings</a></li>
                            <li><a href="about.html">about</a></li>
                        </ul>
                    </nav>
                </div>
                <img id="peoplePersonsImg" src="images/peoplePersons.jpg" alt="The People Person's Paper People">

            </header>

            <div class="stats_container">
                <div class="games-played">
                    <div class="label">Games Played</div>
                    <hr>
                    <div class="value"></div>
                </div>
                <div class="attempts">
                    <div class="label">Attempts</div>
                    <hr>
                    <div class="value"></div>
                </div>
                <div class="accuracy">
                    <div class="label">Accuracy</div>
                    <hr>
                    <div class="value"></div>
                </div>
                <button class="reset">Reset Game</button>
            </div>

            <div class="game-area">
                <div class="card">
                    <div class="front">
                        <img src="images/michael.jpg" alt="michael">
                    </div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front">
                        <img src="images/michael.jpg" alt="michael">
                    </div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front">
                        <img src="images/dwight.jpg" alt="">
                    </div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back"><img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
                <div class="card">
                    <div class="front"></div>
                    <div class="back">
                        <img src="images/dunderMifflin.png" alt="dunder mifflin">
                    </div>
                </div>
            </div>

    </body>
</html>